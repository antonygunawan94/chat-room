webpackJsonp([1],{"/REd":function(t,e,a){"use strict";var s=a("mvHQ"),o=a.n(s),n=a("Xxa5"),i=a.n(n),r=a("exGp"),c=a.n(r);e.a={asyncData:function(){function t(t){return e.apply(this,arguments)}var e=c()(i.a.mark(function t(e){var a=e.params;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.id,t.abrupt("return",{room:a.id,chats:[]});case 2:case"end":return t.stop()}},t,this)}));return t}(),data:function(){return{socket:null,socketStatus:"",url:"ws://localhost:9000"}},methods:{connectWS:function(){var t=this;this.socket=new WebSocket(this.url),this.socket.addEventListener("open",function(){t.socketStatus="Connected..."}),this.socket.addEventListener("error",function(e){t.socketStatus="Error...",console.log(e.name)}),this.socket.addEventListener("message",function(e){t.receiveMessage(e.data)})},sendMessage:function(){var t=document.querySelector("#txt-username"),e=document.querySelector("#txt-message"),a=t.value,s=e.value;if(""==a)return void alert("Username can't be empty!");if(""==s)return void alert("Message can't be empty!");if(this.socket.readyState!=WebSocket.OPEN)return void alert("Please wait until websocket is connected!");var n={username:a,message:s};this.chats.push(n),this.socket.send(o()(n)),e.value="";var i=document.querySelector(".chat-body");return void(i.scrollTop=i.scrollHeight)},receiveMessage:function(t){}},mounted:function(){this.connectWS()},beforeDestroy:function(){this.socket.close()}}},"0oJo":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"chat-container"},[a("div",{staticClass:"chat-header"},[a("h3",[t._v(t._s(t.room))]),a("br"),a("hr"),a("br"),a("h5",[t._v(t._s(t.socketStatus))])]),a("div",{staticClass:"chat-body"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[t._v("Welcome to chat room!")]),t._l(t.chats,function(e){return a("div",{staticClass:"chat-message"},[a("span",{staticClass:"chat-message__name"},[t._v(t._s(e.username)+": Â ")]),a("span",{staticClass:"chat-message__message"},[t._v(t._s(e.message))])])})],2),a("div",{staticClass:"chat-footer"},[a("input",{staticClass:"chat-footer__text",attrs:{type:"text",id:"txt-username",placeholder:"Username"}}),a("div",{staticClass:"chat-footer__row"},[a("textarea",{staticClass:"chat-footer__text",attrs:{id:"txt-message",cols:"50",rows:"5"},on:{keypress:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;e.stopPropagation(),t.sendMessage(e)}}}),a("button",{staticClass:"chat-footer__button",on:{click:t.sendMessage}},[t._v("Send")])])])])])},o=[],n={render:s,staticRenderFns:o};e.a=n},"V++m":function(t,e,a){var s=a("jcsD");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("1cc990f2",s,!0)},WZQC:function(t,e,a){"use strict";function s(t){a("V++m")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("/REd"),n=a("0oJo"),i=a("VU/8"),r=s,c=i(o.a,n.a,!1,r,"data-v-02961be6",null);e.default=c.exports},jcsD:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".container[data-v-02961be6]{max-width:1280px;min-height:100vh;margin:auto;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}.chat-container[data-v-02961be6],.container[data-v-02961be6]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-ms-flexbox;display:flex}.chat-header[data-v-02961be6]{padding:16px;border:1px solid grey}.chat-body[data-v-02961be6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;height:600px;overflow:auto;padding:16px;border:1px solid grey}.chat-message[data-v-02961be6]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-pack:distribute;justify-content:space-around;margin:8px 0}.chat-footer[data-v-02961be6]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.chat-footer[data-v-02961be6],.chat-footer__row[data-v-02961be6]{display:-webkit-box;display:-ms-flexbox;display:flex}.chat-footer__text[data-v-02961be6]{padding:8px}.chat-footer__button[data-v-02961be6]{right:0;width:100px}",""])}});
//# sourceMappingURL=_id.cbd5e4f607f11427239a.js.map